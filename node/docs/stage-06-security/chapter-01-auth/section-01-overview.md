# 6.1.1 身份认证概述

## 1. 概述

身份认证（Authentication）是验证用户身份的过程，确认用户是否为其所声称的身份。身份认证是应用安全的基础，是保护用户数据和系统资源的第一道防线。

## 2. 核心概念

### 2.1 认证 vs 授权

- **认证（Authentication）**：验证用户身份（你是谁）
- **授权（Authorization）**：验证用户权限（你能做什么）

### 2.2 认证流程

```
1. 用户提供凭证（用户名、密码等）
2. 服务器验证凭证
3. 验证成功，创建会话或令牌
4. 客户端保存会话或令牌
5. 后续请求携带会话或令牌
6. 服务器验证会话或令牌
```

## 3. 认证方式

### 3.1 基于 Session 的认证

**特点**：
- 服务器存储会话信息
- 客户端存储 Session ID
- 安全性高
- 需要服务器存储

**适用场景**：
- 传统 Web 应用
- 需要服务器端会话管理
- 安全性要求高

### 3.2 基于 Token 的认证

**特点**：
- 无状态认证
- 客户端存储 Token
- 可扩展性好
- 适合分布式系统

**适用场景**：
- API 服务
- 微服务架构
- 移动应用
- 单页应用

### 3.3 OAuth 2.0

**特点**：
- 第三方认证
- 授权框架
- 标准化协议
- 广泛使用

**适用场景**：
- 第三方登录
- API 授权
- 单点登录
- 开放平台

## 4. 认证安全

### 4.1 密码安全

- **密码加密**：使用哈希算法加密密码
- **密码强度**：要求强密码
- **密码重置**：安全的密码重置流程
- **密码策略**：定期更换密码

### 4.2 会话安全

- **HTTPS**：使用 HTTPS 传输
- **Session 固定**：防止 Session 固定攻击
- **会话超时**：设置合理的会话超时
- **安全 Cookie**：使用安全的 Cookie 设置

### 4.3 令牌安全

- **令牌过期**：设置合理的过期时间
- **令牌刷新**：实现令牌刷新机制
- **令牌撤销**：支持令牌撤销
- **令牌存储**：安全存储令牌

## 5. 最佳实践

### 5.1 认证设计

- 使用 HTTPS
- 实现多因素认证
- 记录认证日志
- 实现账户锁定

### 5.2 安全考虑

- 防止暴力破解
- 防止会话劫持
- 防止 CSRF 攻击
- 实现安全退出

## 6. 注意事项

- **密码安全**：永远不要明文存储密码
- **会话管理**：合理管理会话生命周期
- **令牌安全**：安全存储和传输令牌
- **安全更新**：及时更新安全补丁

## 7. 常见问题

### 7.1 Session 和 Token 如何选择？

根据应用架构、安全需求、扩展性需求选择。

### 7.2 如何防止会话劫持？

使用 HTTPS、安全 Cookie、定期刷新会话。

### 7.3 如何实现多因素认证？

使用 TOTP、短信验证码、邮件验证等方式。

## 8. 相关资源

- [身份认证](https://en.wikipedia.org/wiki/Authentication)
- [OAuth 2.0](https://oauth.net/2/)

---

**下一节**：[6.1.2 Session + Cookie](section-02-session-cookie.md)
