# 7.7.1 BDD 概述

## 1. 概述

行为驱动开发（BDD，Behavior-Driven Development）是一种开发方法，使用自然语言描述软件行为，将业务需求转化为可执行的测试。BDD 强调业务价值，促进业务和技术团队协作。

## 2. 核心概念

### 2.1 BDD 定义

BDD 是一种开发方法：
- **行为描述**：使用自然语言描述行为
- **业务价值**：强调业务价值
- **协作沟通**：促进团队协作
- **可执行规范**：将规范转化为测试

### 2.2 BDD vs TDD

| 特性 | TDD | BDD |
|------|-----|-----|
| 关注点 | 代码功能 | 业务行为 |
| 语言 | 技术语言 | 自然语言 |
| 受众 | 开发者 | 业务和技术 |
| 粒度 | 函数级别 | 功能级别 |

## 3. BDD 结构

### 3.1 Given-When-Then

```
Given（给定）：前置条件
When（当）：执行操作
Then（那么）：预期结果
```

### 3.2 示例

```gherkin
Feature: 用户登录
  作为用户
  我想要登录系统
  以便访问我的账户

  Scenario: 成功登录
    Given 用户已注册
    When 用户输入正确的邮箱和密码
    Then 用户应该成功登录
    And 应该跳转到仪表板页面

  Scenario: 登录失败
    Given 用户已注册
    When 用户输入错误的密码
    Then 应该显示错误消息
    And 用户应该停留在登录页面
```

## 4. BDD 优势

### 4.1 业务价值

- 强调业务价值
- 清晰的需求描述
- 可执行的规范
- 减少理解偏差

### 4.2 团队协作

- 促进业务和技术协作
- 统一语言
- 提高沟通效率
- 减少需求变更

## 5. 最佳实践

### 5.1 场景编写

- 使用自然语言
- 描述业务行为
- 保持场景简单
- 使用 Given-When-Then

### 5.2 步骤实现

- 实现步骤定义
- 保持步骤可复用
- 使用页面对象
- 组织步骤代码

## 6. 注意事项

- **业务导向**：关注业务价值
- **自然语言**：使用自然语言
- **场景简单**：保持场景简单
- **团队协作**：促进团队协作

## 7. 常见问题

### 7.1 BDD 是否适合所有项目？

适合有明确业务规则的项目，不适合探索性开发。

### 7.2 如何编写好的场景？

使用自然语言，描述业务行为，保持场景简单。

### 7.3 如何处理复杂场景？

将复杂场景分解为简单场景，逐步实现。

## 8. 相关资源

- [行为驱动开发](https://en.wikipedia.org/wiki/Behavior-driven_development)
- [Cucumber](https://cucumber.io/)

---

**下一节**：[7.7.2 BDD 工具（Cucumber、Jest-Cucumber）](section-02-tools.md)
